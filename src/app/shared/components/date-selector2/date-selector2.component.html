<div class="relative">
  <!-- Bouton déclencheur du datepicker -->
  <div (click)="toggleDatePicker()" [class.border-b-green-500]="isOpen"
    class="flex items-center justify-between p-1 px-3 text-gray-900 rounded-md placeholder-gray-400 border border-gray-300 cursor-pointer bg-transparent transition-all h-12 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"
    tabindex="0">
    <div class="flex items-center flex-1">
      <!-- Texte affiché -->
      <div class="flex">
        <span [class.text-gray-500]="!selectedDate" [class.text-gray-900]="selectedDate" class="truncate">
          {{ getFormattedDate() }}
        </span>
      </div>
    </div>
    <!-- Icône calendrier -->
    <span class="ml-3 text-gray-500">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
      </svg>
    </span>

  </div>

  <!-- Champ masqué pour le Material Datepicker -->
  <div class="absolute opacity-0 pointer-events-none -z-10">
    <mat-form-field appearance="fill">
      <mat-label>Date de naissance</mat-label>
      <input matInput [matDatepicker]="datePicker" [min]="minDate" [max]="maxDate" [(ngModel)]="selectedDate"
        (dateChange)="onDateSelected($event.value)" readonly>
      <mat-datepicker #datePicker (opened)="onDatePickerOpened()" (closed)="onDatePickerClosed()"
        startView="multi-year"></mat-datepicker>
    </mat-form-field>
  </div>
</div>